import{j as e,r as n}from"./index-Iomy4hYr.js";import{r as B}from"./geminiService-DCHzZafK.js";import{B as d}from"./Button-eKNvBWed.js";import{U as L,C as D}from"./UsersIcon-BFTRWts_.js";import{M as v}from"./Modal-C3Uka8nj.js";const R=[{id:"post-1",author:"Anonymous Squirrel",title:"Feeling overwhelmed with exams",content:"I have three major exams next week and I can't seem to focus on studying. Every time I try, my mind just goes blank and I start panicking. Has anyone else felt this way? How do you cope?",category:"Academic Stress",timestamp:"2 hours ago",comments:[{id:"c1-1",author:"Anonymous Owl",text:"I totally get that. Taking short breaks every 45 minutes to just walk around or listen to a song really helps me.",timestamp:"1 hour ago"},{id:"c1-2",author:"Anonymous Fox",text:"Deep breathing exercises before you start studying can make a huge difference. You've got this!",timestamp:"30 minutes ago"}]},{id:"post-2",author:"Anonymous Badger",title:"Drifting apart from a friend",content:"My best friend and I have been growing distant lately. We're in different classes and have different schedules, and it feels like we barely talk anymore. It makes me really sad. Should I try to talk to them about it?",category:"Relationships",timestamp:"8 hours ago",comments:[{id:"c2-1",author:"Anonymous Deer",text:"It's definitely worth talking about. Maybe you could suggest a specific time to hang out, like grabbing lunch once a week?",timestamp:"7 hours ago"}]},{id:"post-3",author:"Anonymous Rabbit",title:"Just feeling... down.",content:"I don't have a specific reason, but I've been feeling really low and unmotivated for the past few days. Nothing seems interesting and I just want to stay in bed. It's hard to explain.",category:"Feeling Down",timestamp:"1 day ago",comments:[{id:"c3-1",author:"Anonymous Bear",text:"It's okay to feel that way. Be gentle with yourself. Sometimes just a small step, like opening the curtains or drinking a glass of water, is a win.",timestamp:"22 hours ago"},{id:"c3-2",author:"Anonymous Otter",text:"I feel this. I find that listening to a comforting podcast or watching a favorite old movie can help a little. Sending you support.",timestamp:"15 hours ago"},{id:"c3-3",author:"Anonymous Squirrel",text:"Thanks for sharing this. It makes me feel less alone. We're here for you.",timestamp:"10 hours ago"}]},{id:"post-4",author:"Anonymous Chipmunk",title:"How do you build a new habit?",content:"I want to start meditating in the mornings, even for just 5 minutes, but I can't seem to stick with it for more than a couple of days. Any tips on making a new habit stick?",category:"General",timestamp:"3 days ago",comments:[]}],F=({className:a})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2.5l1.09 2.72L16 6.31l-2.22 2.16.53 3.03L12 10.12l-2.31 1.38.53-3.03L8 6.31l2.91-1.09L12 2.5zm-5 5L6.09 5.22 4 4.13l2.22-.05.53-3.08L8.06 2.5l-2.31 1.38.53 3.03L4 9.13l2.91-1.09L8 5.5zm10 0l-1.09-2.28L14 2.13l2.22.05.53 3.08L18.06 6.5l-2.31-1.38-.53-3.03L18 9.13l-2.91-1.09L14 5.5zm-5 7.5l-1.09 2.72L8 16.31l2.22 2.16-.53 3.03L12 20.12l2.31 1.38-.53-3.03L16 16.31l-2.91-1.09L12 12.5z"})}),k=["Academic Stress","Relationships","Feeling Down","General"],T=({post:a,onSelect:l})=>e.jsxs("div",{className:"bg-white/50 rounded-lg shadow-sm p-6 flex flex-col cursor-pointer group hover:shadow-lg transition-shadow duration-300",onClick:l,role:"button",tabIndex:0,onKeyDown:s=>s.key==="Enter"&&l(),"aria-label":`View post titled ${a.title}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("span",{className:"text-sm font-semibold bg-[#A3B18A]/50 text-[#343A40] px-2 py-1 rounded-full",children:a.category}),e.jsx("span",{className:"text-sm text-gray-500",children:a.timestamp})]}),e.jsx("h3",{className:"text-xl font-['Poppins'] font-semibold text-[#343A40] mb-2 group-hover:text-[#A3B18A] transition-colors",children:a.title}),e.jsx("p",{className:"text-[#343A40] leading-relaxed line-clamp-3 flex-grow",children:a.content}),e.jsxs("div",{className:"flex items-center text-gray-600 mt-4 pt-4 border-t border-gray-200",children:[e.jsx(D,{className:"w-5 h-5 mr-2"}),e.jsxs("span",{children:[a.comments.length," ",a.comments.length===1?"comment":"comments"]})]})]}),E=()=>{const[a,l]=n.useState(R),[s,x]=n.useState(null),[C,i]=n.useState(!1),[m,p]=n.useState("All"),[u,f]=n.useState(""),[r,h]=n.useState(""),[y,b]=n.useState("General"),[w,j]=n.useState(!1),[g,A]=n.useState(""),N=t=>{if(t.preventDefault(),!u.trim()||!r.trim())return;const c={id:`post-${Date.now()}`,author:"Anonymous User",title:u,content:r,category:y,timestamp:"Just now",comments:[]};l(o=>[c,...o]),i(!1),f(""),h(""),b("General")},I=t=>{if(!g.trim())return;const c={id:`c-${Date.now()}`,author:"Anonymous User",text:g,timestamp:"Just now"};l(a.map(o=>o.id===t?{...o,comments:[...o.comments,c]}:o)),x(o=>o?{...o,comments:[...o.comments,c]}:null),A("")},P=n.useCallback(async()=>{if(!r.trim())return;j(!0);const t=await B(r);h(t),j(!1)},[r]),S=a.filter(t=>m==="All"||t.category===m);return e.jsxs("div",{className:"container mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("section",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(L,{className:"w-16 h-16 text-[#A3B18A]"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-['Poppins'] font-semibold text-[#343A40]",children:"Student Support Forum"}),e.jsx("p",{className:"mt-4 max-w-3xl mx-auto text-lg text-[#343A40]",children:"A private, anonymous place to connect with other students. You are not alone."}),e.jsx("div",{className:"mt-8",children:e.jsx(d,{onClick:()=>i(!0),children:"Create a New Post"})})]}),e.jsxs("div",{className:"flex justify-center flex-wrap gap-2 sm:gap-3 mb-12",children:[e.jsx("button",{onClick:()=>p("All"),className:`px-4 py-2 rounded-full font-semibold transition-colors text-sm sm:text-base ${m==="All"?"bg-[#A3B18A] text-[#343A40]":"bg-white/50 hover:bg-gray-200/50"}`,children:"All Topics"}),k.map(t=>e.jsx("button",{onClick:()=>p(t),className:`px-4 py-2 rounded-full font-semibold transition-colors text-sm sm:text-base ${m===t?"bg-[#A3B18A] text-[#343A40]":"bg-white/50 hover:bg-gray-200/50"}`,children:t},t))]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:S.map(t=>e.jsx(T,{post:t,onSelect:()=>x(t)},t.id))}),s&&e.jsx(v,{isOpen:!!s,onClose:()=>x(null),children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"p-6 border-b border-gray-300/50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("span",{className:"text-sm font-semibold bg-[#A3B18A]/50 text-[#343A40] px-2 py-1 rounded-full",children:s.category}),e.jsx("span",{className:"text-sm text-gray-500",children:s.timestamp})]}),e.jsx("h2",{className:"text-2xl font-['Poppins'] font-semibold text-[#343A40]",children:s.title}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["by ",s.author]})]}),e.jsxs("div",{className:"flex-grow p-6 overflow-y-auto",children:[e.jsx("p",{className:"text-base text-[#343A40] leading-relaxed whitespace-pre-wrap",children:s.content}),e.jsxs("h3",{className:"text-xl font-['Poppins'] mt-8 mb-4 border-t pt-4",children:["Comments (",s.comments.length,")"]}),e.jsxs("div",{className:"space-y-4",children:[s.comments.map(t=>e.jsxs("div",{className:"bg-white/50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-[#343A40]",children:t.text}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-right",children:["by ",t.author," - ",t.timestamp]})]},t.id)),s.comments.length===0&&e.jsx("p",{className:"text-gray-500",children:"No comments yet. Be the first to reply!"})]})]}),e.jsx("div",{className:"p-6 border-t border-gray-300/50 bg-gray-50/50 rounded-b-xl",children:e.jsxs("form",{onSubmit:t=>{t.preventDefault(),I(s.id)},className:"flex gap-4",children:[e.jsx("input",{type:"text",value:g,onChange:t=>A(t.target.value),placeholder:"Write a supportive comment...",className:"flex-grow p-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#A3B18A] focus:border-transparent"}),e.jsx(d,{type:"submit",children:"Reply"})]})})]})}),e.jsx(v,{isOpen:C,onClose:()=>i(!1),children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("h2",{className:"p-6 text-2xl font-['Poppins'] font-semibold text-[#343A40] border-b border-gray-300/50",children:"Create a New Post"}),e.jsxs("form",{onSubmit:N,className:"flex-grow p-6 flex flex-col gap-4 overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"post-title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),e.jsx("input",{type:"text",id:"post-title",value:u,onChange:t=>f(t.target.value),className:"w-full p-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#A3B18A] focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"post-category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsx("select",{id:"post-category",value:y,onChange:t=>b(t.target.value),className:"w-full p-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#A3B18A] focus:border-transparent",children:k.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{className:"flex flex-col flex-grow",children:[e.jsx("label",{htmlFor:"post-content",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Thoughts"}),e.jsx("textarea",{id:"post-content",value:r,onChange:t=>h(t.target.value),className:"w-full flex-grow p-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#A3B18A] focus:border-transparent resize-none",rows:10,required:!0}),e.jsx("div",{className:"text-right mt-2",children:e.jsxs("button",{type:"button",onClick:P,disabled:w,className:"inline-flex items-center gap-2 text-sm font-semibold text-[#343A40] hover:text-[#A3B18A] disabled:opacity-50 disabled:cursor-wait",children:[e.jsx(F,{className:"w-5 h-5"}),w?"Rephrasing...":"Rephrase with Sahay AI"]})})]})]}),e.jsxs("div",{className:"p-6 flex justify-end gap-4 border-t border-gray-300/50 bg-gray-50/50 rounded-b-xl",children:[e.jsx(d,{variant:"secondary",onClick:()=>i(!1),children:"Cancel"}),e.jsx(d,{onClick:N,children:"Post Anonymously"})]})]})})]})};export{E as default};
